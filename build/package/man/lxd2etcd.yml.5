.TH LXD2ETCD.YML 5

.SH NAME
lxd2etcd.yml \- lxd2etcd configuration file.

.SH SYNOPSIS
.B /etc/lxd2etcd.yml

.SH DESCRIPTION
The configuration file follows YAML syntax. The different configuration options are:

.TP
.BR debug
.br
Debug flag (true/false)
.LP

.TP
.BR hostname
.br
The hostname under which the lxd data (/lxd/<hostname>/containers and /lxd/<hostname>/networks) is stored in etcd.
.LP

.TP
.BR lxd
.br
This section contains the configuration used to connect to lxd:

.RS
.TP
.BR socket
.br
The path to the lxd unix socket. (ex: /var/snap/lxd/common/lxd/unix.socket)
.TP
.BR wait_for_dhcp
.br
When a container is created, its dhcp ip is not already assigned.
In order to get the assigned IP, lxd2etcd wait for a short period of time after receiving the creation event.
This value configure how much time do lxd2etcd wait before retrieving the configuration from lxd. (ex: 2s)
.TP
.BR periodic_refresh
.br
Force a periodic refresh every given period of time (ex: 1m).
.RE

.TP
.BR etcd
.br
This section contains the configuration used to connect to etcd:

.RS
.TP
.BR endpoints
.br
The list of etcd endpoints. (ex: ["127.0.0.1:2379"])
.TP
.BR dial_timeout
.br
How much time to wait before giving up connect to etcd. (ex: 5s)
.TP
.BR username
.br
The credential username to use. (ex: lxd2etcd)
.TP
.BR password
.br
The credential password to use. (ex: secret)
.RE

.TP
.BR containers
.br
This section contains extraneous field added to the containers info in etcd. Some fields are also used to compute dynamic additional fields.
This section is a dict where keys are container names and fields are:

.RS
.TP
.BR node_ip
.br
The content of the "node_ip" field in etcd for this container. This field can be empty and should contains an IP address (ex: 10.255.16.1)
.TP
.BR default_interface
.br
The default interface used to compute the "default_ipv4" and "default_ipv6" fields.
.RE


.SH FILES
.TP
.IR /etc/lxd2etcd.yml


.SH EXAMPLE

.nf
---
debug: false
hostname: test.example.net
lxd:
  socket: /var/snap/lxd/common/lxd/unix.socket
  wait_for_dhcp: 2s
etcd:
  endpoints: ["127.0.0.1:2379"]
  dial_timeout: 5s
  username: lxd2etcd
  password: secret
containers:
  test1:
    node_ip: 10.255.16.1
    default_interface: eth0
  test2:
    node_ip: 10.255.16.2
    default_interface: eth0
...
.fi


.SH SEE ALSO
.TP
\fBlxd2etcd\fP(1)
